@page "/"
@inject BlogeratorContainer container
@attribute [AllowAnonymous]

<PageTitle>@blogTitle</PageTitle>

<MudText Typo="Typo.h3" GutterBottom="true">Hello, world!</MudText>

@if (!container.IsInitialized || newestPost is null)
{
    <MudProgressCircular Color="Color.Default" Indeterminate="true" />
}
else
{
    <MudMarkdown Value="@value" />
}

<MudAlert Severity="Severity.Normal">You can find documentation and examples on our website here: <MudLink Href="https://mudblazor.com" Typo="Typo.body2" Color="Color.Inherit"><b>www.mudblazor.com</b></MudLink></MudAlert>


@code {
    private string blogTitle { get; set; } = "Empty";
    private string value { get; set; } = string.Empty;
    private Post? newestPost { get; set; }

    protected override Task OnInitializedAsync()
    {
        this.blogTitle = container.BlogTitle;
        this.newestPost = container.GetNewestPost();
        this.value = this.newestPost.Contents;

        return base.OnInitializedAsync();
    }
}
